<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
  <head>
    <title>SFTP Compatibility</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  </head>
  <body>
    <h1>SFTP Compatibility</h1>
    <hr/>
    
    <p>
      Wouldn't you like it if instances of Net::SFTP supported the same commands as
      regular Net::FTP?  Sure, we all would.  Just require 'sftp_compatibility' and
      you'll be writing code that seamlessly swaps between ftp and sftp.  Yay!
    </p>

    <p>
      Currently supported commands, developed against net-sftp 1.1.0:
      <ul>
        <li>chdir</li>
        <li>delete</li>
        <li>mkdir</li>
        <li>nlst</li>
        <li>putbinaryfile</li>
        <li>rmdir</li>
      </ul>
    </p>
    <hr/>
    
    <p>
      Here's a typlical use case (actually the only one right now):
      
      <pre>
require 'net/ftp'
require 'net/sftp'
require 'sftp_compatibility'

def do_stuff(ftp)
  ftp.chdir('phil')
  ftp.mkdir('test_dir')
  ftp.chdir('test_dir')
  ftp.nlst.each{ |f| p f }
  ftp.putbinaryfile('local_filename', 'testfile')
  ftp.nlst.each{ |f| p f }
  ftp.delete('testfile')
  ftp.chdir('..')
  ftp.rmdir('test_dir')
end

@protocol = :sftp
@host = 'ftp.domain.corn'
@user = 'phil'
@pass = 'xxxx'

if @protocol == :sftp
  Net::SFTP.start(@host, :username => @user, :password => @pass) do |sftp|
    do_stuff(sftp)
  end
else
  Net::FTP.open(@host, @user, @pass) do |ftp|
    do_stuff(sftp)
  end
end
      </pre>
    </p>
    <hr/>
    
    <p>
      <h3>Installation Instructions</h3>
      If you use <a href="http://piston.rubyforge.org/">piston</a>:
      <pre> piston import svn://rubyforge.org/var/svn/sftp-compat/trunk vendor/plugins/sftp-compat</pre>
      
      If you use script/plugin:
      <pre> script/plugin install svn://rubyforge.org/var/svn/sftp-compat/trunk</pre>
    </p>
    <hr/>
    
    <p>Rubyforge page is: <a href="http://rubyforge.org/projects/sftp-compat/">http://rubyforge.org/projects/sftp-compat/</a></p>
  </body>
</html>
